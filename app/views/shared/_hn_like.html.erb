<a href="https://news.ycombinator.com/submit" class="hn-button" data-title="<%= title %>"
   data-url="<%= url %>" data-count="horizontal">Vote on Hacker News</a>

<% unless @hn_added
     @hn_added = true %>
    <script type="text/javascript">
        var HN = [];
        HN.factory = function(e){
            return function(){
                HN.push([e].concat(Array.prototype.slice.call(arguments,0)))};
        },
        HN.on = HN.factory("on"),
        HN.once=HN.factory("once"),
        HN.off=HN.factory("off"),
        HN.emit=HN.factory("emit"),
        HN.load=function(){
            var e="hn-button.js";
            if(document.getElementById(e))
                return;
            var t = document.createElement("script");
            t.id = e, t.src="//hn-button.herokuapp.com/hn-button.js";
            var n = document.getElementsByTagName("script")[0];
            n.parentNode.insertBefore(t,n)
        };
        $(HN.load);
    </script>
<% end %>
